<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>"keyids" Initialization Data Format</title>
    <script src="https://www.w3.org/Tools/respec/respec-w3c-common" class="remove"></script>
    <script src="../../encrypted-media.js" class="remove"></script>
    <script class="remove">
    var respecConfig = {
      // specification status (e.g. WD, LCWD, NOTE, etc.). If in doubt use ED.
      specStatus: "ED",

      // the specification's short name, as in https://www.w3.org/TR/short-name/
      shortName: "eme-initdata-keyids",

      // if there a publicly available Editor's Draft, this is the link
      edDraftURI: "https://w3c.github.io/encrypted-media/format-registry/initdata/keyids.html",

      // if this is a LCWD, uncomment and set the end of its review period
      // lcEnd: "2009-08-05",

      // editors, add as many as you like
      // only "name" is required
      editors: [
        { name: "Joey Parrish", w3cid: "105371",
          company: "Google Inc.", companyURL: "https://www.google.com/" },
        { name: "Greg Freedman",
          company: "Netflix Inc.", companyURL: "https://www.netflix.com/" },
      ],

      formerEditors: [
        { name: "Mark Watson", note: "Until September 2019", w3cid: "46379",
          company: "Netflix Inc.", companyURL: "https://www.netflix.com/" },
        { name: "David Dorwin", note: "Until September 2017", w3cid: "52505",
          company: "Google Inc.", companyURL: "https://www.google.com/" },
        { name: "Jerry Smith", note: "Until September 2017", w3cid: "60176",
          company: "Microsoft Corporation", companyURL: "https://www.microsoft.com/" },
        { name: "Adrian Bateman", note: "Until May 2014", w3cid: "42763",
          company: "Microsoft Corporation", companyURL: "https://www.microsoft.com/" },
      ],

      otherLinks: [
        { key: "Repository", href: "https://github.com/w3c/encrypted-media/" },
      ],

      emeDefGroupName: "keyids-format",
      emeUnusedGroupNameExcludeList: [
        "encrypted-media",
        "eme-references-from-registry",
      ],

      // name of the WG
      wg: "Media Working Group",

      // URI of the public WG page
      wgURI: "https://www.w3.org/media-wg/",

      // name (without the @w3c.org) of the public mailing to which comments are due
      wgPublicList: "public-media-wg",

      // URI of the patent status for this WG, for Rec-track documents
      // !!!! IMPORTANT !!!!
      // This is important for Rec-track documents, do not copy a patent URI from a random
      // document unless you know what you're doing. If in doubt ask your friendly neighbourhood
      // Team Contact.
      wgPatentURI: "https://www.w3.org/2004/01/pp-impl/115198/status",

      noIDLIn: true,

      scheme: "https",

      preProcess: [ encryptedMediaPreProcessor ],

      // Empty definitions for objects declared in the document are here to
      // prevent error messages from being displayed for references to these objects.
      definitionMap: {},

      postProcess: [ encryptedMediaPostProcessor ],
    };
    </script>
    <!-- script to register bugs -->
    <!-- Disabled unless/until it supports GitHub issues.
    <script src="https://w3c.github.io/webcomponents/assets/scripts/bug-assist.js"></script>
    <meta name="bug.product" content="HTML WG">
    <meta name="bug.component" content="Encrypted Media Extensions">
    -->

  </head>
  <body>
    <section id="abstract">
      <p>This specification defines the <code>"keyids"</code> <a def-id="initialization-data"></a> format for use with the <a def-id="eme-spec"></a> [[!ENCRYPTED-MEDIA]].</p>
      <p class="note">It defines a stream format-independent format for specifying a list of <a def-id="key-id"></a>(s).
      This type can be used by applications to directly provide information necessary to generate a license request without using media data or constructing container-specific formats.
      </p>
    </section>

    <section id="sotd">
      <p>The working group maintains <a href="https://github.com/w3c/encrypted-media/issues">a list of all bug reports that the editors have not yet tried to address</a>.</p>
      <p>Implementors should be aware that this specification is not stable. <strong>Implementors who are not taking part in the discussions are likely to find the specification changing out from under them in incompatible ways.</strong> Vendors interested in implementing this specification before it eventually reaches the Candidate Recommendation stage should join the mailing list mentioned below and take part in the discussions.</p>
    </section>

    <section id="format">
      <h2>Format</h2>
      <p>The format is a JSON object, encoded in UTF-8 as specified in the Encoding specification [[!encoding]], containing the following member:</p>
      <dl>
        <dt>"kids"</dt>
        <dd>An array of <a def-id="key-id"></a>(s). Each element of the array is the base64url encoding of the octet sequence containing the key ID value.</dd>
      </dl>

      <p class="note">See <a def-id="using-base64url"></a>.</p>
      <p class="note">Applications may encode the JSON string using the <a def-id="interface-textencoder"></a> [[encoding]]</p>
    </section>

    <section class="informative">
      <h2>Example</h2>
      <p>The following example will generate a license request for two <a def-id="key-id"></a>(s). (Line breaks are for readability only.)</p>
        <pre class="example">
{
  "kids":
    [
     "LwVHf8JLtPrv2GUXFW2v_A",
     "0DdtU9od-Bh5L3xbv0Xf_A"
    ],
}</pre>
    </section>

  </body>
</html>
