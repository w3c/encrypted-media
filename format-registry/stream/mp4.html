<!DOCTYPE html><html lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="generator" content="ReSpec 25.6.0"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><style>.issue-label{text-transform:initial}.warning>p:first-child{margin-top:0}.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}span.warning{padding:.1em .5em .15em}.issue.closed span.issue-number{text-decoration:line-through}.warning{border-color:#f11;border-width:.2em;border-style:solid;background:#fbe9e9}.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}li.task-list-item{list-style:none}input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}</style>
    
    <title>ISO Common Encryption Protection Scheme for ISO Base Media File Format Stream Format</title>
    <style id="respec-mainstyle">@keyframes pop{0%{transform:scale(1,1)}25%{transform:scale(1.25,1.25);opacity:.75}100%{transform:scale(1,1)}}.hljs{background:0 0!important}a abbr,h1 abbr,h2 abbr,h3 abbr,h4 abbr,h5 abbr,h6 abbr{border:none}dfn{font-weight:700}a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}a.bibref{text-decoration:none}.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}@supports not (text-decoration:red wavy underline){.respec-offending-element:not(pre){display:inline-block}.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}}#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}cite .bibref{font-style:normal}code{color:#c63501}th code{color:inherit}a[href].orcid{padding-left:4px;padding-right:4px}a[href].orcid>svg{margin-bottom:-2px}.toc a,.tof a{text-decoration:none}a .figno,a .secno{color:#000}ol.tof,ul.tof{list-style:none outside none}.caption{margin-top:.5em;font-style:italic}table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}.simple th a{color:#fff;padding:3px 5px;text-align:left}.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}.simple td{padding:3px 10px;border-top:1px solid #ddd}.simple tr:nth-child(even){background:#f0f6ff}.section dd>p:first-child{margin-top:0}.section dd>p:last-child{margin-bottom:0}.section dd{margin-bottom:1em}.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}#issue-summary>ul,.respec-dfn-list{column-count:2}#issue-summary li,.respec-dfn-list li{list-style:none}details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}details.respec-tests-details>*{padding-right:2em}details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}details.respec-tests-details>ul{width:100%;margin-top:-.3em}details.respec-tests-details>li{padding-left:1em}a[href].self-link:hover{opacity:1;text-decoration:none;background-color:transparent}h2,h3,h4,h5,h6{position:relative}aside.example .marker>a.self-link{color:inherit}h2>a.self-link,h3>a.self-link,h4>a.self-link,h5>a.self-link,h6>a.self-link{border:none;color:inherit;font-size:83%;height:2em;left:-1.6em;opacity:.5;position:absolute;text-align:center;text-decoration:none;top:0;transition:opacity .2s;width:2em}h2>a.self-link::before,h3>a.self-link::before,h4>a.self-link::before,h5>a.self-link::before,h6>a.self-link::before{content:"§";display:block}@media (max-width:767px){dd{margin-left:0}h2>a.self-link,h3>a.self-link,h4>a.self-link,h5>a.self-link,h6>a.self-link{left:auto;top:auto}}@media print{.removeOnSave{display:none}}</style>
    
    
    
    

  <meta name="description" content="This specification defines the stream format for using ISO Base Media
        File Format [ISOBMFF] content that uses the ISO Common Encryption
        protection schemes [CENC] with the 
        [ENCRYPTED-MEDIA]."><link rel="canonical" href="https://www.w3.org/TR/eme-stream-mp4/"><style>var{position:relative;cursor:pointer}var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#000}var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#000;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}</style><script id="initialUserConfig" type="application/json">{
  "specStatus": "ED",
  "shortName": "eme-stream-mp4",
  "edDraftURI": "https://w3c.github.io/encrypted-media/format-registry/stream/mp4.html",
  "editors": [
    {
      "name": "Joey Parrish",
      "w3cid": "105371",
      "company": "Google Inc.",
      "companyURL": "https://www.google.com/"
    },
    {
      "name": "Greg Freedman",
      "company": "Netflix Inc.",
      "companyURL": "https://www.netflix.com/"
    }
  ],
  "formerEditors": [
    {
      "name": "Mark Watson",
      "note": "Until September 2019",
      "w3cid": "46379",
      "company": "Netflix Inc.",
      "companyURL": "https://www.netflix.com/"
    },
    {
      "name": "David Dorwin",
      "note": "Until September 2017",
      "w3cid": "52505",
      "company": "Google Inc.",
      "companyURL": "https://www.google.com/"
    },
    {
      "name": "Jerry Smith",
      "note": "Until September 2017",
      "w3cid": "60176",
      "company": "Microsoft Corporation",
      "companyURL": "https://www.microsoft.com/"
    },
    {
      "name": "Adrian Bateman",
      "note": "Until May 2014",
      "w3cid": "42763",
      "company": "Microsoft Corporation",
      "companyURL": "https://www.microsoft.com/"
    }
  ],
  "otherLinks": [
    {
      "key": "Repository",
      "href": "https://github.com/w3c/encrypted-media/"
    }
  ],
  "emeDefGroupName": "mp4-stream-format",
  "emeUnusedGroupNameExcludeList": [
    "encrypted-media",
    "eme-references-from-registry"
  ],
  "wg": "Media Working Group",
  "wgURI": "https://www.w3.org/media-wg/",
  "wgPublicList": "public-media-wg",
  "wgPatentURI": "https://www.w3.org/2004/01/pp-impl/115198/status",
  "noIDLIn": true,
  "scheme": "https",
  "definitionMap": {},
  "preProcess": [
    null
  ],
  "postProcess": [
    null
  ],
  "localBiblio": {
    "CENC": {
      "title": "ISO/IEC 23001-7:2016, Information technology — MPEG systems technologies — Part 7: Common encryption in ISO Base Media File Format files",
      "href": "https://www.iso.org/obp/ui/#iso:std:iso-iec:23001:-7:ed-3:v1:en",
      "status": "International Standard",
      "publisher": "ISO/IEC",
      "id": "cenc"
    },
    "EME-INITDATA-REGISTRY": {
      "title": "Encrypted Media Extensions Initialization Data Format Registry",
      "href": "../initdata/index.html",
      "authors": [
        "David Dorwin",
        "Adrian Bateman",
        "Mark Watson"
      ],
      "publisher": "W3C",
      "id": "eme-initdata-registry"
    },
    "EME-INITDATA-CENC": {
      "title": "\"cenc\" Initialization Data Format",
      "href": "../initdata/cenc.html",
      "authors": [
        "David Dorwin",
        "Adrian Bateman",
        "Mark Watson",
        "Jerry Smith"
      ],
      "publisher": "W3C"
    },
    "EME-INITDATA-WEBM": {
      "title": "\"webm\" Initialization Data Format",
      "href": "../initdata/webm.html",
      "authors": [
        "David Dorwin",
        "Adrian Bateman",
        "Mark Watson",
        "Jerry Smith"
      ],
      "publisher": "W3C"
    },
    "EME-INITDATA-KEYIDS": {
      "title": "\"keyids\" Initialization Data Format",
      "href": "../initdata/keyids.html",
      "authors": [
        "David Dorwin",
        "Adrian Bateman",
        "Mark Watson",
        "Jerry Smith"
      ],
      "publisher": "W3C"
    },
    "EME-STREAM-REGISTRY": {
      "title": "Encrypted Media Extensions Stream Format Registry",
      "href": "../stream/index.html",
      "authors": [
        "David Dorwin",
        "Adrian Bateman",
        "Mark Watson"
      ],
      "publisher": "W3C"
    },
    "EME-STREAM-MP4": {
      "title": "ISO Common Encryption ('cenc') Protection Scheme for ISO Base Media File Format Stream Format",
      "href": "../stream/mp4.html",
      "authors": [
        "David Dorwin",
        "Adrian Bateman",
        "Mark Watson",
        "Jerry Smith"
      ],
      "publisher": "W3C"
    },
    "EME-STREAM-WEBM": {
      "title": "WebM Stream Format",
      "href": "../stream/webm.html",
      "authors": [
        "David Dorwin",
        "Adrian Bateman",
        "Mark Watson"
      ],
      "publisher": "W3C"
    }
  },
  "publishISODate": "2024-02-13T00:00:00.000Z",
  "generatedSubtitle": "Editor's Draft 13 February 2024"
}</script><link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-ED"></head>
  <body class="h-entry informative toc-inline"><div class="head">
    <a class="logo" href="https://www.w3.org/"><img alt="W3C" width="72" height="48" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C"></a> <h1 id="title" class="title">ISO Common Encryption Protection Scheme for ISO Base Media File Format Stream Format</h1>
    
    <h2>
      W3C Editor's Draft
      <time class="dt-published" datetime="2024-02-13">13 February 2024</time>
    </h2>
    <dl>
      <dt>This version:</dt><dd>
              <a class="u-url" href="https://w3c.github.io/encrypted-media/format-registry/stream/mp4.html">https://w3c.github.io/encrypted-media/format-registry/stream/mp4.html</a>
            </dd><dt>Latest published version:</dt><dd>
              <a href="https://www.w3.org/TR/eme-stream-mp4/">https://www.w3.org/TR/eme-stream-mp4/</a>
            </dd>
      <dt>Latest editor's draft:</dt><dd><a href="https://w3c.github.io/encrypted-media/format-registry/stream/mp4.html">https://w3c.github.io/encrypted-media/format-registry/stream/mp4.html</a></dd>
      
      
      
      
      
      <dt>Editors:</dt>
      <dd class="p-author h-card vcard" data-editor-id="105371"><span class="p-name fn">Joey Parrish</span>
            (<a class="p-org org h-org h-card" href="https://www.google.com/">Google Inc.</a>)
          </dd><dd class="p-author h-card vcard"><span class="p-name fn">Greg Freedman</span>
            (<a class="p-org org h-org h-card" href="https://www.netflix.com/">Netflix Inc.</a>)
          </dd>
      <dt>
              Former editors:
            </dt><dd class="p-author h-card vcard" data-editor-id="46379"><span class="p-name fn">Mark Watson</span>
            (<a class="p-org org h-org h-card" href="https://www.netflix.com/">Netflix Inc.</a>)
           (Until September 2019)</dd><dd class="p-author h-card vcard" data-editor-id="52505"><span class="p-name fn">David Dorwin</span>
            (<a class="p-org org h-org h-card" href="https://www.google.com/">Google Inc.</a>)
           (Until September 2017)</dd><dd class="p-author h-card vcard" data-editor-id="60176"><span class="p-name fn">Jerry Smith</span>
            (<a class="p-org org h-org h-card" href="https://www.microsoft.com/">Microsoft Corporation</a>)
           (Until September 2017)</dd><dd class="p-author h-card vcard" data-editor-id="42763"><span class="p-name fn">Adrian Bateman</span>
            (<a class="p-org org h-org h-card" href="https://www.microsoft.com/">Microsoft Corporation</a>)
           (Until May 2014)</dd>
      
      <dt>Repository:</dt><dd>
    <a href="https://github.com/w3c/encrypted-media/">https://github.com/w3c/encrypted-media/</a>
  </dd>
    </dl>
    
    
    
    <p class="copyright">
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
    ©
    2024
    
    <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
    <a href="https://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="https://www.keio.ac.jp/">Keio</a>,
    <a href="https://ev.buaa.edu.cn/">Beihang</a>). 
    W3C <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive document license</a> rules
    apply.
  </p>
    <hr title="Separator for header">
  </div>
    
    <section id="abstract" class="introductory"><h2>Abstract</h2>
      <p>
        This specification defines the stream format for using ISO Base Media
        File Format [<cite class="respec-offending-element" title="Normative references in informative sections are not allowed. Remove '!' from the start of the reference `[[!ISOBMFF]]`" id="respec-offender-normative-references-in-informative-sections-are-not-allowed-remove-from-the-start-of-the-reference-isobmff"><a class="bibref" data-link-type="biblio" href="#bib-isobmff" title="Information technology — Coding of audio-visual objects — Part 12: ISO Base Media File Format">ISOBMFF</a></cite>] content that uses the ISO Common Encryption
        protection schemes [<cite class="respec-offending-element" title="Normative references in informative sections are not allowed. Remove '!' from the start of the reference `[[!CENC]]`" id="respec-offender-normative-references-in-informative-sections-are-not-allowed-remove-from-the-start-of-the-reference-cenc"><a class="bibref" data-link-type="biblio" href="#bib-cenc" title="ISO/IEC 23001-7:2016, Information technology — MPEG systems technologies — Part 7: Common encryption in ISO Base Media File Format files">CENC</a></cite>] with the <a href="../../index.html#">Encrypted Media Extensions</a>
        [<cite class="respec-offending-element" title="Normative references in informative sections are not allowed. Remove '!' from the start of the reference `[[!ENCRYPTED-MEDIA]]`" id="respec-offender-normative-references-in-informative-sections-are-not-allowed-remove-from-the-start-of-the-reference-encrypted-media"><a class="bibref" data-link-type="biblio" href="#bib-encrypted-media" title="Encrypted Media Extensions">ENCRYPTED-MEDIA</a></cite>].
      </p>
      <div class="note" role="note" id="issue-container-generatedID"><div role="heading" class="note-title marker" id="h-note" aria-level="3"><span>Note</span></div><p class="">
        Although the ISO Base Media File Format [<cite><a class="bibref" data-link-type="biblio" href="#bib-isobmff" title="Information technology — Coding of audio-visual objects — Part 12: ISO Base Media File Format">ISOBMFF</a></cite>] associated with
        this format's MIME type/subtype strings supports multiple protection
        schemes, when used with Encrypted Media Extensions, these strings refer
        specifically to content encrypted and packaged using the 'cenc' or
        'cbcs' protection schemes, as defined by section 4.2 of [<cite><a class="bibref" data-link-type="biblio" href="#bib-cenc" title="ISO/IEC 23001-7:2016, Information technology — MPEG systems technologies — Part 7: Common encryption in ISO Base Media File Format files">CENC</a></cite>].
      </p></div>
    </section>

    <section id="sotd" class="introductory"><h2>Status of This Document</h2><p><em>This section describes the status of this
      document at the time of its publication. Other documents may supersede
      this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision
      of this technical report can be found in the
      <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at
      https://www.w3.org/TR/.</em></p>
    <p>
    This document was published by the <a href="https://www.w3.org/media-wg/">Media Working Group</a> as an
    Editor's Draft.
    
  </p><p>
    
    Comments regarding this document are welcome.
          Please send them to
          <a href="mailto:public-media-wg@w3.org">public-media-wg@w3.org</a>
          (<a href="https://lists.w3.org/Archives/Public/public-media-wg/">archives</a>).
        
  </p><p>
    Publication as an Editor's Draft does not imply endorsement by the <abbr title="World Wide Web Consortium">W3C</abbr>
    Membership. This is a draft document and may be updated, replaced or
    obsoleted by other documents at any time. It is inappropriate to cite this
    document as other than work in progress.
  </p><p>
    
        This document was produced by a group
        operating under the
        <a href="https://www.w3.org/Consortium/Patent-Policy/"><abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
       
    
                <abbr title="World Wide Web Consortium">W3C</abbr> maintains a
                <a rel="disclosure" href="https://www.w3.org/2004/01/pp-impl/115198/status">public list of any patent disclosures</a>
          made in connection with the deliverables of
          the group; that page also includes
          instructions for disclosing a patent. An individual who has actual
          knowledge of a patent which the individual believes contains
          <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential Claim(s)</a>
          must disclose the information in accordance with
          <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
        
    
  </p><p>
                  This document is governed by the
                  <a id="w3c_process_revision" href="https://www.w3.org/2019/Process-20190301/">1 March 2019 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
                </p></section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#stream-format"><bdi class="secno">1. </bdi>Stream Format</a></li><li class="tocline"><a class="tocxref" href="#detect-format"><bdi class="secno">2. </bdi>Detection</a></li><li class="tocline"><a class="tocxref" href="#detect-encrypted-blocks"><bdi class="secno">3. </bdi>Detecting Encrypted Blocks</a></li><li class="tocline"><a class="tocxref" href="#init-data"><bdi class="secno">4. </bdi>Initialization Data Extraction</a></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">A. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">A.1 </bdi>
        Normative references
      </a></li></ol></li></ol></nav>

    <section id="stream-format">
      <h2 id="x1-stream-format"><bdi class="secno">1. </bdi>Stream Format<a class="self-link" aria-label="§" href="#stream-format"></a></h2>
      <p>
        ISO Base Media File Format [<cite><a class="bibref" data-link-type="biblio" href="#bib-isobmff" title="Information technology — Coding of audio-visual objects — Part 12: ISO Base Media File Format">ISOBMFF</a></cite>] content that is encrypted using
        the ISO Common Encryption protection schemes [<cite><a class="bibref" data-link-type="biblio" href="#bib-cenc" title="ISO/IEC 23001-7:2016, Information technology — MPEG systems technologies — Part 7: Common encryption in ISO Base Media File Format files">CENC</a></cite>] <em class="rfc2119" title="SHALL">SHALL</em> be
        encrypted at the sample level with either the 'cenc' (AES-128 CTR) or
        'cbcs' (AES-128 CBC) encryption schemes, as defined in section 4.2 of
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-cenc" title="ISO/IEC 23001-7:2016, Information technology — MPEG systems technologies — Part 7: Common encryption in ISO Base Media File Format files">CENC</a></cite>].  These protection methods enabls multiple Key Systems to
        decrypt the same media content.
      </p>
      <p>
        Each key is identified by a <a href="../../index.html#decryption-key-id">key ID</a> and each encrypted
        sample is associated with the key ID of the key needed to decrypt it.
        This association is signaled either through the specification of a
        default key ID in the track encryption box ('tenc') or by assigning the
        sample to a Sample Group, the definition of which specifies a key ID.
        Streams may contain a mixture of encrypted and unencrypted samples.
      </p>
    </section>

    <section id="detect-format">
      <h2 id="x2-detection"><bdi class="secno">2. </bdi>Detection<a class="self-link" aria-label="§" href="#detect-format"></a></h2>
      <p>
        For a stream determined to be in the ISO Base Media File Format
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-isobmff" title="Information technology — Coding of audio-visual objects — Part 12: ISO Base Media File Format">ISOBMFF</a></cite>], the ISO Common Encryption protection schemes may be
        detected as follows.
      </p>
      <p>
        Protection scheme signaling conforms with [<cite><a class="bibref" data-link-type="biblio" href="#bib-isobmff" title="Information technology — Coding of audio-visual objects — Part 12: ISO Base Media File Format">ISOBMFF</a></cite>]. When protection
        has been applied, the stream type will be transformed to 'encv' for
        video or 'enca' for audio, with a Protection Scheme Information Box
        ('sinf') added to the sample entry in the Sample Description Box
        ('stsd'). The Protection Scheme Information Box ('sinf') will contain a
        Scheme Type Box ('schm') with a scheme_type field set to a value of
        <code>'cenc'</code> or <code>'cbcs'</code>. [<cite><a class="bibref" data-link-type="biblio" href="#bib-cenc" title="ISO/IEC 23001-7:2016, Information technology — MPEG systems technologies — Part 7: Common encryption in ISO Base Media File Format files">CENC</a></cite>]
      </p>
    </section>

    <section id="detect-encrypted-blocks">
      <h2 id="x3-detecting-encrypted-blocks"><bdi class="secno">3. </bdi>Detecting Encrypted Blocks<a class="self-link" aria-label="§" href="#detect-encrypted-blocks"></a></h2>
      <p>
        For the purposes of the <a href="../../index.html#encrypted-block-encountered">Encrypted Block Encountered</a>, encrypted blocks
        are identified as follows.
      </p>
      <p>
        The encrypted block is a sample. Determining whether a sample is
        encrypted depends on the corresponding Track Encryption Box ('tenc') and
        the sample group with grouping type 'seig' (CencSampleEncryption group),
        if any, associated with the sample.  The default encryption state of a
        sample is defined by the IsEncrypted flag in the associated track
        encryption box ('tenc'). This default state may be modified by the
        IsEncrypted flag in the SampleGroupDescriptionBox ('sgpd'), pointed to
        by an index in the SampleToGroupBox ('sbgp').
      </p>
      <p>
        Samples can be partially encrypted, specified by subsample information
        referenced by SampleAuxiliaryInformationSizesBox ('saiz') and
        SampleAuxiliaryInformationOffsetsBox ('saio') boxes.
      </p>
      <p>For complete information, see [<cite><a class="bibref" data-link-type="biblio" href="#bib-cenc" title="ISO/IEC 23001-7:2016, Information technology — MPEG systems technologies — Part 7: Common encryption in ISO Base Media File Format files">CENC</a></cite>].</p>
    </section>

    <section id="init-data">
      <h2 id="x4-initialization-data-extraction"><bdi class="secno">4. </bdi>Initialization Data Extraction<a class="self-link" aria-label="§" href="#init-data"></a></h2>
      <p>
        Streams may contain one or more Protection System Specific Header
        ('pssh') boxes [<cite><a class="bibref" data-link-type="biblio" href="#bib-cenc" title="ISO/IEC 23001-7:2016, Information technology — MPEG systems technologies — Part 7: Common encryption in ISO Base Media File Format files">CENC</a></cite>], each for a unique SystemID, at each location
        where a 'pssh' box is necessary.  Content using this stream format
        <em class="rfc2119" title="SHOULD">SHOULD</em> include a box containing the <a href="../initdata/cenc.html#common-system">Common SystemID and PSSH Box Format</a>.
      </p>
      <p>
        <a href="../../index.html#initialization-data">Initialization Data</a> is always one or more concatenated
        'pssh' boxes as defined by the <a href="../initdata/cenc.html">"cenc" Initialization Data Format</a>
        [<cite class="respec-offending-element" title="Normative references in informative sections are not allowed. Remove '!' from the start of the reference `[[!EME-INITDATA-REGISTRY]]`" id="respec-offender-normative-references-in-informative-sections-are-not-allowed-remove-from-the-start-of-the-reference-eme-initdata-registry"><a class="bibref" data-link-type="biblio" href="#bib-eme-initdata-registry" title="Encrypted Media Extensions Initialization Data Format Registry">EME-INITDATA-REGISTRY</a></cite>].
      </p>
      <p>
        Each time one or more 'pssh' boxes are encountered, the <a href="../../index.html#initdata-encountered">Initialization Data Encountered</a> algorithm <em class="rfc2119" title="SHALL">SHALL</em> be invoked
        with <var title="">initDataType</var> = <code>"<a href="../initdata/cenc.html">cenc</a>"</code>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-eme-initdata-registry" title="Encrypted Media Extensions Initialization Data Format Registry">EME-INITDATA-REGISTRY</a></cite>] and <var title="">initData</var> = the 'pssh'
        box(es).  Multiple 'pssh' boxes <em class="rfc2119" title="MUST">MUST</em> be provided together if and only if
        they appear directly next to each other in the stream.
      </p>
    </section>
  

<section id="references" class="appendix"><h2 id="a-references"><bdi class="secno">A. </bdi>References<a class="self-link" aria-label="§" href="#references"></a></h2><section id="normative-references">
      <h3 id="a-1-normative-references"><bdi class="secno">A.1 </bdi>
        Normative references
      <a class="self-link" aria-label="§" href="#normative-references"></a></h3>
    <dl class="bibliography">
      <dt id="bib-cenc">[CENC]</dt><dd><a href="https://www.iso.org/obp/ui/#iso:std:iso-iec:23001:-7:ed-3:v1:en"><cite>ISO/IEC 23001-7:2016, Information technology — MPEG systems technologies — Part 7: Common encryption in ISO Base Media File Format files</cite></a>.  ISO/IEC. International Standard. URL: <a href="https://www.iso.org/obp/ui/#iso:std:iso-iec:23001:-7:ed-3:v1:en">https://www.iso.org/obp/ui/#iso:std:iso-iec:23001:-7:ed-3:v1:en</a></dd><dt id="bib-eme-initdata-registry">[EME-INITDATA-REGISTRY]</dt><dd><a href="../initdata/index.html"><cite>Encrypted Media Extensions Initialization Data Format Registry</cite></a>. David Dorwin; Adrian Bateman; Mark Watson.  W3C. URL: <a href="../initdata/index.html">../initdata/index.html</a></dd><dt id="bib-encrypted-media">[ENCRYPTED-MEDIA]</dt><dd><a href="https://www.w3.org/TR/encrypted-media/"><cite>Encrypted Media Extensions</cite></a>. David Dorwin; Jerry Smith; Mark Watson; Adrian Bateman.  W3C. 18 September 2017. W3C Recommendation. URL: <a href="https://www.w3.org/TR/encrypted-media/">https://www.w3.org/TR/encrypted-media/</a></dd><dt id="bib-isobmff">[ISOBMFF]</dt><dd><a href="http://standards.iso.org/ittf/PubliclyAvailableStandards/c068960_ISO_IEC_14496-12_2015.zip"><cite>Information technology — Coding of audio-visual objects — Part 12: ISO Base Media File Format</cite></a>.  ISO/IEC. December 2015. International Standard. URL: <a href="http://standards.iso.org/ittf/PubliclyAvailableStandards/c068960_ISO_IEC_14496-12_2015.zip">http://standards.iso.org/ittf/PubliclyAvailableStandards/c068960_ISO_IEC_14496-12_2015.zip</a></dd>
    </dl></section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script></body></html>